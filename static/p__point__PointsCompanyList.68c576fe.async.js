(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[829],{87588:function(y,p,t){"use strict";var r=t(22122),i=t(67294),o=t(61144),s=t(65734),n=function(d,E){return i.createElement(s.Z,(0,r.Z)({},d,{ref:E,icon:o.Z}))};p.Z=i.forwardRef(n)},87672:function(y){y.exports={"search-wrapper":"search-wrapper___k6skK",actions:"actions___2Y8k7","table-wrapper":"table-wrapper___1b7q7"}},26555:function(y,p,t){"use strict";t.r(p);var r=t(8963),i=t(38291),o=t(9715),s=t(71481),n=t(47673),m=t(77808),d=t(34792),E=t(48086),P=t(90636),O=t(11849),A=t(3182),f=t(2824),W=t(57663),v=t(71577),b=t(71194),R=t(50146),g=t(67294),D=t(96486),S=t.n(D),T=t(36773),L=t(87588),M=t(84514),a=t(87672),u=t.n(a),_=t(85893),e=R.Z.confirm,F=function(){var X=[{title:"\u516C\u53F8\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u91C7\u8D2D\u8BA4\u8BC1\u4EBA\u6570",dataIndex:"totalMember",key:"totalMember"},{title:"\u53D1\u653E\u79EF\u5206\u4EBA\u6570",dataIndex:"pointMember",key:"pointMember"},{title:"\u53EF\u7528\u79EF\u5206\u603B\u989D",dataIndex:"totalPoint",key:"totalPoint"},{title:"\u79EF\u5206\u7533\u8BF7\u8BB0\u5F55",dataIndex:"action",key:"action",render:function(l,I){return(0,_.jsx)(v.Z,{target:"_blank",href:"/point/company/history?id=".concat(I.id),type:"link",children:"\u67E5\u770B"})}}],G=(0,g.useState)(!1),w=(0,f.Z)(G,2),Y=w[0],B=w[1],H=(0,g.useState)({current:1,pageSize:10}),x=(0,f.Z)(H,2),Z=x[0],z=x[1],J=(0,g.useState)([]),$=(0,f.Z)(J,2),j=$[0],N=$[1],Q=function(l){N(l)},q={selectedRowKeys:j,onChange:Q},ee=function(l){z({current:l.current||1,pageSize:l.pageSize||10})},te=(0,g.useState)([]),k=(0,f.Z)(te,2),ne=k[0],ae=k[1],K=(0,D.debounce)((0,A.Z)((0,P.Z)().mark(function C(){var l;return(0,P.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,B(!0),c.next=4,M.jX({name:U,pageNum:Z.current,pageSize:Z.pageSize});case 4:l=c.sent,l&&(ae(l.list),z((0,O.Z)((0,O.Z)({},Z),{},{total:l.totalNum}))),B(!1),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),B(!1);case 12:case"end":return c.stop()}},C,null,[[0,9]])}))),re=(0,g.useState)(""),V=(0,f.Z)(re,2),U=V[0],se=V[1],_e=function(l){se(l.companyName),U===l.companyName&&K()};(0,g.useEffect)(function(){K()},[Z.current,Z.pageSize,U]);var ue=function(){e({title:"\u786E\u5B9A\u6E05\u96F6\u79EF\u5206\u5417\uFF1F",icon:(0,_.jsx)(L.Z,{}),content:"\u6B64\u64CD\u4F5C\u5C06\u6E05\u96F6\u6240\u9009\u516C\u53F8\u540D\u4E0B\u6240\u6709\u79EF\u5206\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,A.Z)((0,P.Z)().mark(function I(){return(0,P.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,M.kz({orgID:j[0]});case 3:E.ZP.success("\u64CD\u4F5C\u6210\u529F"),N([]),K(),h.next=10;break;case 8:h.prev=8,h.t0=h.catch(0);case 10:case"end":return h.stop()}},I,null,[[0,8]])}))()}})};return(0,_.jsxs)(T.ZP,{children:[(0,_.jsx)("div",{className:u()["search-wrapper"],children:(0,_.jsxs)(s.Z,{name:"basic",initialValues:{companyName:U},labelCol:{span:8},layout:"inline",onFinish:_e,wrapperCol:{span:16},autoComplete:"off",children:[(0,_.jsx)(s.Z.Item,{label:"\u516C\u53F8\u540D\u79F0",name:"companyName",rules:[{required:!1}],children:(0,_.jsx)(m.Z,{maxLength:80})}),(0,_.jsx)(s.Z.Item,{children:(0,_.jsx)(v.Z,{htmlType:"submit",type:"primary",children:"\u67E5\u8BE2"})})]})}),(0,_.jsxs)("div",{className:u()["table-wrapper"],children:[(0,_.jsx)("div",{className:u().actions,children:(0,_.jsx)(v.Z,{disabled:j.length!==1,type:"primary",onClick:ue,children:"\u79EF\u5206\u6E05\u96F6"})}),(0,_.jsx)(i.Z,{rowKey:"id",columns:X,dataSource:ne,loading:Y,onChange:ee,pagination:Z,rowSelection:q,scroll:{x:"max-content"}})]})]})};p.default=F},84514:function(y,p,t){"use strict";t.d(p,{dV:function(){return n},UX:function(){return d},d0:function(){return P},Uf:function(){return A},kz:function(){return W},YL:function(){return b},jX:function(){return g},jh:function(){return S},sI:function(){return L}});var r=t(90636),i=t(3182),o=t(99871),s=t(636);function n(a){return m.apply(this,arguments)}function m(){return m=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getApplyToVerify"));case 1:case"end":return e.stop()}},a)})),m.apply(this,arguments)}function d(a){return E.apply(this,arguments)}function E(){return E=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getApplys?".concat((0,o.R)(u))));case 1:case"end":return e.stop()}},a)})),E.apply(this,arguments)}function P(a){return O.apply(this,arguments)}function O(){return O=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/applyPoint",{method:"POST",data:u,headers:{"Content-Type":"multipart/form-data"}}));case 1:case"end":return e.stop()}},a)})),O.apply(this,arguments)}function A(a){return f.apply(this,arguments)}function f(){return f=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/verifyPoint",{method:"POST",data:u}));case 1:case"end":return e.stop()}},a)})),f.apply(this,arguments)}function W(a){return v.apply(this,arguments)}function v(){return v=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/clearPoint",{method:"POST",data:u}));case 1:case"end":return e.stop()}},a)})),v.apply(this,arguments)}function b(a){return R.apply(this,arguments)}function R(){return R=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getAccountVerifyList?".concat((0,o.R)(u))));case 1:case"end":return e.stop()}},a)})),R.apply(this,arguments)}function g(a){return D.apply(this,arguments)}function D(){return D=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getOrganizations?".concat((0,o.R)(u))));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function S(a){return T.apply(this,arguments)}function T(){return T=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getPointRecordsByUser?".concat((0,o.R)(u))));case 1:case"end":return e.stop()}},a)})),T.apply(this,arguments)}function L(a){return M.apply(this,arguments)}function M(){return M=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getPointRecordsByApply?".concat((0,o.R)(u))));case 1:case"end":return e.stop()}},a)})),M.apply(this,arguments)}},99871:function(y,p,t){"use strict";t.d(p,{R:function(){return r},D:function(){return i}});function r(o){var s=Object.keys(o).map(function(n){return"".concat(n,"=").concat(o[n])});return s.join("&")}function i(o){var s=new RegExp("(^|&)"+o+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(s);return n!=null?decodeURIComponent(n[2]):null}},636:function(y,p,t){"use strict";var r=t(34792),i=t(48086),o=t(12666),s=o.Z.create({baseURL:"/",timeout:3e4,withCredentials:!1});s.interceptors.request.use(function(n){n&&n.headers&&(n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"));var m=localStorage.getItem("token");return(n==null?void 0:n.url)!=="/api/v1/user/login"&&(n.headers.Authorization="".concat(m)),n},function(n){return Promise.reject(n)}),s.interceptors.response.use(function(n){var m=n.data;console.log(Object.prototype.toString.call(n));var d=n.data,E=n.status,P=n.statusText;if(E!==200)return i.ZP.error(P),null;if(d.status===10010)return d;if(d.status!==200)throw i.ZP.error(n.msg),new Error(n.msg);return d.data},function(n){return console.log("err"+n),Promise.reject(n)}),p.Z=s}}]);
