(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[829],{87588:function(O,m,t){"use strict";var r=t(22122),i=t(67294),l=t(61144),s=t(65734),n=function(c,E){return i.createElement(s.Z,(0,r.Z)({},c,{ref:E,icon:l.Z}))};m.Z=i.forwardRef(n)},87672:function(O){O.exports={"search-wrapper":"search-wrapper___k6skK",actions:"actions___2Y8k7","table-wrapper":"table-wrapper___1b7q7"}},26555:function(O,m,t){"use strict";t.r(m);var r=t(8963),i=t(38291),l=t(9715),s=t(71481),n=t(47673),d=t(77808),c=t(34792),E=t(48086),P=t(90636),D=t(11849),A=t(3182),f=t(2824),W=t(57663),v=t(71577),S=t(71194),R=t(50146),g=t(67294),M=t(96486),b=t.n(M),T=t(36773),B=t(87588),Z=t(84514),a=t(87672),u=t.n(a),_=t(85893),e=R.Z.confirm,F=function(){var X=[{title:"\u516C\u53F8\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u91C7\u8D2D\u8BA4\u8BC1\u4EBA\u6570",dataIndex:"totalMember",key:"totalMember"},{title:"\u53D1\u653E\u79EF\u5206\u4EBA\u6570",dataIndex:"pointMember",key:"pointMember"},{title:"\u53EF\u7528\u79EF\u5206\u603B\u989D",dataIndex:"totalPoint",key:"totalPoint"},{title:"\u79EF\u5206\u7533\u8BF7\u8BB0\u5F55",dataIndex:"action",key:"action",render:function(o,I){return(0,_.jsx)(v.Z,{target:"_blank",href:"?id=".concat(I.id,"#/point/company/history"),type:"link",children:"\u67E5\u770B"})}}],G=(0,g.useState)(!1),w=(0,f.Z)(G,2),Y=w[0],L=w[1],J=(0,g.useState)({current:1,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(o){return"\u603B\u5171 ".concat(o," \u6761")}}),x=(0,f.Z)(J,2),C=x[0],z=x[1],Q=(0,g.useState)([]),$=(0,f.Z)(Q,2),j=$[0],k=$[1],H=function(o){k(o)},q={selectedRowKeys:j,onChange:H},ee=function(o){z({current:o.current||1,pageSize:o.pageSize||10})},te=(0,g.useState)([]),N=(0,f.Z)(te,2),ne=N[0],ae=N[1],K=(0,M.debounce)((0,A.Z)((0,P.Z)().mark(function y(){var o;return(0,P.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,L(!0),p.next=4,Z.jX({name:U,pageNum:C.current,pageSize:C.pageSize});case 4:o=p.sent,o&&(ae(o.list),z((0,D.Z)((0,D.Z)({},C),{},{total:o.totalNum}))),L(!1),p.next=12;break;case 9:p.prev=9,p.t0=p.catch(0),L(!1);case 12:case"end":return p.stop()}},y,null,[[0,9]])}))),re=(0,g.useState)(""),V=(0,f.Z)(re,2),U=V[0],se=V[1],_e=function(o){se(o.companyName),U===o.companyName&&K()};(0,g.useEffect)(function(){K()},[C.current,C.pageSize,U]);var ue=function(){e({title:"\u786E\u5B9A\u6E05\u96F6\u79EF\u5206\u5417\uFF1F",icon:(0,_.jsx)(B.Z,{}),content:"\u6B64\u64CD\u4F5C\u5C06\u6E05\u96F6\u6240\u9009\u516C\u53F8\u540D\u4E0B\u6240\u6709\u79EF\u5206\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return(0,A.Z)((0,P.Z)().mark(function I(){return(0,P.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Z.kz({orgID:j[0]});case 3:E.ZP.success("\u64CD\u4F5C\u6210\u529F"),k([]),K(),h.next=10;break;case 8:h.prev=8,h.t0=h.catch(0);case 10:case"end":return h.stop()}},I,null,[[0,8]])}))()}})};return(0,_.jsxs)(T.ZP,{children:[(0,_.jsx)("div",{className:u()["search-wrapper"],children:(0,_.jsxs)(s.Z,{name:"basic",initialValues:{companyName:U},labelCol:{span:8},layout:"inline",onFinish:_e,wrapperCol:{span:16},autoComplete:"off",children:[(0,_.jsx)(s.Z.Item,{label:"\u516C\u53F8\u540D\u79F0",name:"companyName",rules:[{required:!1}],children:(0,_.jsx)(d.Z,{maxLength:80})}),(0,_.jsx)(s.Z.Item,{children:(0,_.jsx)(v.Z,{htmlType:"submit",type:"primary",children:"\u67E5\u8BE2"})})]})}),(0,_.jsxs)("div",{className:u()["table-wrapper"],children:[(0,_.jsx)("div",{className:u().actions,children:(0,_.jsx)(v.Z,{disabled:j.length!==1,type:"primary",onClick:ue,children:"\u79EF\u5206\u6E05\u96F6"})}),(0,_.jsx)(i.Z,{rowKey:"id",columns:X,dataSource:ne,loading:Y,onChange:ee,pagination:C,rowSelection:q,scroll:{x:"max-content"}})]})]})};m.default=F},84514:function(O,m,t){"use strict";t.d(m,{dV:function(){return n},UX:function(){return c},d0:function(){return P},Uf:function(){return A},kz:function(){return W},YL:function(){return S},jX:function(){return g},jh:function(){return b},sI:function(){return B}});var r=t(90636),i=t(3182),l=t(99871),s=t(636);function n(a){return d.apply(this,arguments)}function d(){return d=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getApplyToVerify"));case 1:case"end":return e.stop()}},a)})),d.apply(this,arguments)}function c(a){return E.apply(this,arguments)}function E(){return E=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getApplys?".concat((0,l.R)(u))));case 1:case"end":return e.stop()}},a)})),E.apply(this,arguments)}function P(a){return D.apply(this,arguments)}function D(){return D=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/applyPoint",{method:"POST",data:u,headers:{"Content-Type":"multipart/form-data"}}));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function A(a){return f.apply(this,arguments)}function f(){return f=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/verifyPoint",{method:"POST",data:u}));case 1:case"end":return e.stop()}},a)})),f.apply(this,arguments)}function W(a){return v.apply(this,arguments)}function v(){return v=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/clearPoint",{method:"POST",data:u}));case 1:case"end":return e.stop()}},a)})),v.apply(this,arguments)}function S(a){return R.apply(this,arguments)}function R(){return R=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getAccountVerifyList?".concat((0,l.R)(u))));case 1:case"end":return e.stop()}},a)})),R.apply(this,arguments)}function g(a){return M.apply(this,arguments)}function M(){return M=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getOrganizations?".concat((0,l.R)(u))));case 1:case"end":return e.stop()}},a)})),M.apply(this,arguments)}function b(a){return T.apply(this,arguments)}function T(){return T=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getPointRecordsByUser?".concat((0,l.R)(u))));case 1:case"end":return e.stop()}},a)})),T.apply(this,arguments)}function B(a){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)((0,r.Z)().mark(function a(u){return(0,r.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.Z)("/api/v1/org/getPointRecordsByApply?".concat((0,l.R)(u))));case 1:case"end":return e.stop()}},a)})),Z.apply(this,arguments)}},99871:function(O,m,t){"use strict";t.d(m,{R:function(){return r},D:function(){return i}});function r(l){var s=Object.keys(l).map(function(n){return"".concat(n,"=").concat(l[n])});return s.join("&")}function i(l){var s=new RegExp("(^|&)"+l+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(s);return n!=null?decodeURIComponent(n[2]):null}},636:function(O,m,t){"use strict";var r=t(34792),i=t(48086),l=t(12666),s=l.Z.create({baseURL:"/",timeout:3e4,withCredentials:!1});s.interceptors.request.use(function(n){n&&n.headers&&(n.headers["Content-Type"]||(n.headers["Content-Type"]="application/json"));var d=localStorage.getItem("token");return(n==null?void 0:n.url)!=="/api/v1/user/login"&&(n.headers.Authorization="".concat(d)),n},function(n){return Promise.reject(n)}),s.interceptors.response.use(function(n){var d=n.data,c=n.data,E=n.status,P=n.statusText;if(E!==200)return i.ZP.error(P),c;if(c.status===10010)return c;if(c.status!==200)throw i.ZP.error(c.data||n.msg),new Error(n.msg);return c.data},function(n){return console.log("err"+n),Promise.reject(n)}),m.Z=s}}]);
