(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[202],{51042:function(Y,v,e){"use strict";var h=e(22122),u=e(67294),p=e(42110),m=e(65734),y=function(x,d){return u.createElement(m.Z,(0,h.Z)({},x,{ref:d,icon:p.Z}))};v.Z=u.forwardRef(y)},5966:function(Y,v,e){"use strict";var h=e(22122),u=e(81253),p=e(67294),m=e(90165),y=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],x="text",d=function(s){var R=s.fieldProps,j=s.proFieldProps,L=(0,u.Z)(s,y);return p.createElement(m.Z,(0,h.Z)({mode:"edit",valueType:x,fieldProps:R,filedConfig:{valueType:x},proFieldProps:j},L))},M=function(s){var R=s.fieldProps,j=s.proFieldProps,L=(0,u.Z)(s,g);return p.createElement(m.Z,(0,h.Z)({mode:"edit",valueType:"password",fieldProps:R,proFieldProps:j,filedConfig:{valueType:x}},L))},Z=d;Z.Password=M,Z.displayName="ProFormComponent",v.Z=Z},90672:function(Y,v,e){"use strict";var h=e(22122),u=e(81253),p=e(67294),m=e(90165),y=["fieldProps","proFieldProps"],g=function(d,M){var Z=d.fieldProps,b=d.proFieldProps,s=(0,u.Z)(d,y);return p.createElement(m.Z,(0,h.Z)({ref:M,mode:"edit",valueType:"textarea",fieldProps:Z,proFieldProps:b},s))};v.Z=p.forwardRef(g)},12192:function(Y,v,e){"use strict";e.r(v),e.d(v,{default:function(){return Pe}});var h=e(57663),u=e(71577),p=e(77883),m=e(77075),y=e(88983),g=e(47933),x=e(48736),d=e(27049),M=e(36877),Z=e(18480),b=e(63185),s=e(9676),R=e(58024),j=e(91894),L=e(47673),U=e(77808),ge=e(9715),o=e(71481),je=e(43185),J=e(69698),De=e(34792),D=e(48086),C=e(2824),E=e(67294),se=e(36773),Ae=e(77576),le=e(12028),te=e(90636),W=e(11849),re=e(86582),oe=e(3182),ne=e(90341),de=e(37476),ce=e(5966),ve=e(90672),t=e(85893),pe=function(c){var A=c.title,f=c.specifications,K=c.setSpecifications,S=c.prices,T=c.setPrices,$=c.generateCombinations,N=c.required,w=(0,E.useState)(!1),I=(0,C.Z)(w,2),z=I[0],O=I[1],k=function(){var r=(0,oe.Z)((0,te.Z)().mark(function i(n){var l;return(0,te.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:l=[].concat((0,re.Z)(f),[(0,W.Z)((0,W.Z)({},n),{},{id:f.length,types:n.types.split(",")})]),K(l),O(!1),D.ZP.success("\u89C4\u683C\u6DFB\u52A0\u6210\u529F");case 4:case"end":return V.stop()}},i)}));return function(n){return r.apply(this,arguments)}}(),G=function(i){var n=f.filter(function(l){return l.id!==i.id});K(n)},q=function(){var i={id:S.length,unit:"",minQuantity:0,price:0,enabled:!1};T([].concat((0,re.Z)(S),[i]))},_=function(i){var n=S.filter(function(l){return l.id!==i.id});T(n)},ee=[{title:"\u89C4\u683C\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u89C4\u683C\u53EF\u9009\u7C7B\u578B",dataIndex:"types",key:"types",render:function(i,n){return(0,t.jsx)("div",{children:n.types.join(", ")})}},{title:"\u64CD\u4F5C",key:"action",render:function(i,n){return(0,t.jsx)(u.Z,{onClick:function(){return G(n)},children:"\u5220\u9664"})}}],Q=[{title:"\u89C4\u683C\u7EC4\u5408",dataIndex:"combination",key:"combination"},{title:"\u8BA1\u91CF\u5355\u4F4D",dataIndex:"unit",key:"unit"},{title:"\u8D77\u6279\u53D1\u91CF",dataIndex:"minQuantity",key:"minQuantity"},{title:"\u4EF7\u683C",dataIndex:"price",key:"price"},{title:"\u662F\u5426\u542F\u7528",dataIndex:"enabled",key:"enabled",render:function(i,n){return(0,t.jsx)(le.Z,{checked:n.enabled})}},{title:"\u64CD\u4F5C",key:"action",render:function(i,n){return(0,t.jsx)(u.Z,{onClick:function(){return _(n)},children:"\u5220\u9664"})}}];return(0,t.jsxs)("div",{children:[(0,t.jsx)(ne.Z,{columns:ee,dataSource:f,search:!1,rowKey:"id",options:!1,headerTitle:(0,t.jsxs)("div",{children:[N&&(0,t.jsx)("span",{style:{color:"red"},children:"*"}),A,"\u89C4\u683C"]}),toolBarRender:function(){return[(0,t.jsx)(u.Z,{type:"primary",onClick:function(){return O(!0)},children:"\u6DFB\u52A0\u89C4\u683C"},"addSpec")]}}),(0,t.jsxs)(de.Y,{title:"\u6DFB\u52A0\u65B0".concat(A),open:z,onVisibleChange:O,onFinish:k,children:[(0,t.jsx)(ce.Z,{name:"name",label:"\u89C4\u683C\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u683C\u540D\u79F0"}]}),(0,t.jsx)(ve.Z,{name:"types",label:"\u89C4\u683C\u53EF\u9009\u7C7B\u578B",placeholder:"\u8BF7\u7528\u9017\u53F7\u5206\u9694\u5404\u4E2A\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u683C\u53EF\u9009\u7C7B\u578B"}]})]}),(0,t.jsx)(ne.Z,{headerTitle:(0,t.jsxs)("div",{children:[N&&(0,t.jsx)("span",{style:{color:"red"},children:"*"}),A,"\u89C4\u683C"]}),columns:Q,search:!1,options:!1,dataSource:S.map(function(r){return(0,W.Z)((0,W.Z)({},r),{},{combination:$(f)[r.id]})}),rowKey:"id",toolBarRender:function(){return[(0,t.jsx)(u.Z,{type:"primary",onClick:q,children:"\u6DFB\u52A0\u4EF7\u683C"},"addPrice")]}})]})},ae=pe,me=e(51042),ie=10,fe=function(){var c=(0,E.useState)([]),A=(0,C.Z)(c,2),f=A[0],K=A[1],S=(0,E.useState)([]),T=(0,C.Z)(S,2),$=T[0],N=T[1],w=(0,E.useState)([]),I=(0,C.Z)(w,2),z=I[0],O=I[1],k=(0,E.useState)([]),G=(0,C.Z)(k,2),q=G[0],_=G[1],ee=(0,E.useState)([]),Q=(0,C.Z)(ee,2),r=Q[0],i=Q[1],n=(0,E.useState)([]),l=(0,C.Z)(n,2),xe=l[0],V=l[1],Ze=(0,t.jsxs)("div",{children:[(0,t.jsx)(me.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),ue=function(a){if(a.length===0)return[];var P=a[0].types.map(function(B){return"".concat(a[0].name,": ").concat(B)});if(a.length>1){var X=[];P.forEach(function(B){a[1].types.forEach(function(F){X.push("".concat(B,", ").concat(a[1].name,": ").concat(F))})}),P=X}return P},Ce=function(a,P){return new Promise(function(X,B){if(Array.isArray(r)&&r.length===ie)return D.ZP.error("\u6700\u591A\u4E0A\u4F2010\u5F20\u56FE\u7247"),J.Z.LIST_IGNORE;var F=new Image;F.src=window.URL.createObjectURL(a),F.onerror=function(){D.ZP.error("\u56FE\u7247\u683C\u5F0F\u4E0D\u6B63\u786E"),B()},F.onload=function(){var Fe=F.width,ye=F.height;return Fe!==ye?(D.ZP.error("\u56FE\u7247\u5BBD\u9AD8\u6BD4\u4F8B\u4E0D\u4E3A1:1"),J.Z.LIST_IGNORE):X(!0)}})},Ee=function(a){if(a.file.status==="uploading"){var P;console.log("uploading",(a==null||(P=a.file)===null||P===void 0?void 0:P.percent)||0)}a.file.status==="done"?D.ZP.success("\u56FE\u7247\u4E0A\u4F20\u6210\u529F"):a.file.status==="error"&&D.ZP.error("".concat(a.file.name," file upload failed.")),i(a.fileList)};return(0,t.jsx)(se.ZP,{children:(0,t.jsxs)(o.Z,{labelCol:{span:2},wrapperCol:{span:12},layout:"horizontal",children:[(0,t.jsxs)(j.Z,{title:(0,t.jsx)("h1",{children:"\u5546\u54C1\u4FE1\u606F"}),style:{marginBottom:"16px"},children:[(0,t.jsxs)(o.Z.Item,{required:!0,label:"\u5546\u54C1\u8F6E\u64AD\u56FE",children:[(0,t.jsx)(J.Z,{action:"/api/v1/common/uploadFile",maxCount:ie,headers:{Authorization:localStorage.getItem("token")||""},onChange:Ee,beforeUpload:Ce,listType:"picture-card",multiple:!0,children:Ze}),(0,t.jsxs)("div",{children:["\u56FE\u7247\u8981\u6C42\uFF1A\u5BBD\u9AD8\u6BD4\u4F8B\u4E3A1:1\u3002\u5DF2\u4E0A\u4F20",r.length,"/10\u5F20\uFF0C\u62D6\u62FD\u53EF\u8C03\u6574\u987A\u5E8F"]})]}),(0,t.jsx)(o.Z.Item,{required:!0,label:"\u5546\u54C1\u540D\u79F0",children:(0,t.jsx)(U.Z,{})}),(0,t.jsx)(o.Z.Item,{required:!0,label:"\u5546\u54C1\u5206\u7C7B",children:(0,t.jsx)(U.Z,{})}),(0,t.jsx)(o.Z.Item,{required:!0,label:"\u5546\u54C1\u6807\u9898",children:(0,t.jsx)(U.Z,{})}),(0,t.jsx)(o.Z.Item,{label:"\u5546\u54C1\u8BE6\u60C5",children:(0,t.jsx)(U.Z,{})})]}),(0,t.jsx)(ae,{title:"\u6279\u53D1",specifications:f,setSpecifications:K,prices:$,setPrices:N,generateCombinations:function(){return ue(f)},required:!0}),(0,t.jsx)(ae,{title:"\u96F6\u552E",specifications:z,setSpecifications:O,prices:q,setPrices:_,generateCombinations:function(){return ue(z)}}),(0,t.jsxs)(j.Z,{title:(0,t.jsx)("h1",{children:"\u670D\u52A1\u4E0E\u627F\u8BFA"}),style:{marginTop:"16px"},children:[(0,t.jsx)(o.Z.Item,{required:!0,label:"\u6279\u53D1\u7269\u6D41",name:"disabled",valuePropName:"checked",children:(0,t.jsx)(s.Z.Group,{options:[{label:"\u6574\u8F66",value:"Apple"},{label:"\u7269\u6D41/\u4E13\u7EBF",value:"Pear"},{label:"\u5FEB\u9012",value:"Orange"},{label:"\u7A7A\u8FD0",value:"Orange1"},{label:"\u94C1\u8DEF",value:"Orang2"},{label:"\u5176\u4ED6\u8FD0\u8F93",value:"Orange"}],defaultValue:["Pear"]})}),(0,t.jsx)(o.Z.Item,{required:!0,label:"\u6279\u53D1\u53D1\u8D27\u5730",children:(0,t.jsx)(Z.Z,{options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou"}]}]})}),(0,t.jsx)(d.Z,{}),(0,t.jsx)(o.Z.Item,{required:!0,label:"\u96F6\u552E\u53D1\u8D27\u65F6\u95F4",children:(0,t.jsx)(g.ZP.Group,{options:[{label:"24\u5C0F\u65F6\u5185",value:"Apple"},{label:"48\u5C0F\u65F6\u5185",value:"Pear"},{label:"7\u5929\u5185",value:"Orange"}]})}),(0,t.jsxs)(o.Z.Item,{required:!0,label:"\u96F6\u552E\u8FD0\u8D39\uFF08\u5143\uFF09",children:[(0,t.jsx)(m.Z,{}),"\uFF08\u5317\u4EAC\u5305\u90AE\uFF0C\u5176\u4ED6\u5730\u533A\u7EDF\u4E00\u90AE\u8D39\uFF09"]})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:(0,t.jsx)(u.Z,{size:"large",type:"primary",children:"\u63D0\u4EA4\u4E0A\u67B6"})})]})})},Pe=fe}}]);
