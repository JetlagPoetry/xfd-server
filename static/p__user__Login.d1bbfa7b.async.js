(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(O){O.exports={container:"container___1sYa-"}},19319:function(O,g,t){"use strict";t.r(g);var _=t(71194),m=t(50146),c=t(90636),o=t(11849),u=t(34792),f=t(48086),E=t(3182),R=t(2824),L=t(67294),M=t(73935),$=t(80521),C=t(2603),k=t(43504),w=t(5966),G=t(16434),B=t(63434),F=t(81910),U=t(92592),S=t(34687),b=t.n(S),K=t(29811),y=t(975),x=t(7120),I=t.n(x),i=t(85893),j=function(){var T=(0,F.tT)("@@initialState"),J=T.initialState,Z=T.setInitialState,z=(0,L.useState)(!1),A=(0,R.Z)(z,2),N=A[0],D=A[1],Y=function(){var h=(0,E.Z)((0,c.Z)().mark(function P(p){var d,v,W,l;return(0,c.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(p.checkAgreement){s.next=3;break}return f.ZP.warn("\u8BF7\u9605\u8BFB\u5E76\u52FE\u9009\u7528\u6237\u534F\u8BAE"),s.abrupt("return");case 3:return s.next=5,(0,K.x4)({code:p.captcha,phone:p.mobile,source:2});case 5:if(d=s.sent,d.status!==10010){s.next=13;break}D(!0),v="https://open.weixin.qq.com/sns/getexpappinfo?appid=wx91e0c51b45f4b8f9&path=pages%2Flogin%2Flogin.html#wechat-redirect",W=document.getElementById("canvas"),U.toCanvas(W,v),s.next=33;break;case 13:return f.ZP.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("expiresTime",Date.now()+d.expiresAt),localStorage.setItem("token","".concat(d.tokenType," ").concat(d.accessToken)),localStorage.setItem("userRole",d.userRole),s.next=19,(0,M.flushSync)(function(){Z(function(r){return(0,o.Z)((0,o.Z)({},r),{},{user:{userRole:d.userRole}})})});case 19:l="",s.t0=d.userRole,s.next=s.t0===y.i.Buyers?23:s.t0===y.i.Supplier?25:s.t0===y.i.Management?27:s.t0===y.i.Super_Management?29:31;break;case 23:return l="/point/buyers/application/record",s.abrupt("break",32);case 25:return l="/product/list",s.abrupt("break",32);case 27:return l="/point/company",s.abrupt("break",32);case 29:return l="/point/company",s.abrupt("break",32);case 31:return s.abrupt("break",32);case 32:F.m8.push(l);case 33:case"end":return s.stop()}},P)}));return function(p){return h.apply(this,arguments)}}();return(0,i.jsx)("div",{className:b().container,children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(k.U,{logo:(0,i.jsx)("img",{alt:"logo",src:I()}),title:"\u65B0\u53D1\u5730\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",onFinish:Y,children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(w.Z,{fieldProps:{size:"large",prefix:(0,i.jsx)($.Z,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,i.jsx)(G.Z,{fieldProps:{size:"large",prefix:(0,i.jsx)(C.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(P,p){return P?"".concat(p," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",phoneName:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var h=(0,E.Z)((0,c.Z)().mark(function P(p){var d,v;return(0,c.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,K.Z3)({phone:p});case 2:d=l.sent,v=d.status,v===200&&f.ZP.success("\u624B\u673A\u53F7 ".concat(p," \u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F!"));case 5:case"end":return l.stop()}},P)}));return function(P){return h.apply(this,arguments)}}()}),(0,i.jsx)(B.Z,{noStyle:!0,name:"checkAgreement"}),"\xA0\xA0\u9605\u8BFB\u5E76\u5DF2\u540C\u610F",(0,i.jsx)("a",{href:"https://xfd-t-1313159791.cos.ap-beijing.myqcloud.com/web/privacy.txt",target:"_blank",children:"\u300A\u65B0\u53D1\u5730\u96C6\u91C7\u4EA4\u6613\u6240\u7528\u6237\u534F\u8BAE\u548C\u9690\u79C1\u58F0\u660E\u300B"}),(0,i.jsx)("div",{style:{marginBottom:10}})]}),(0,i.jsx)(m.Z,{centered:!0,footer:null,title:"\u8BF7\u5148\u5B8C\u6210\u8EAB\u4EFD\u8BA4\u8BC1",open:N,onCancel:function(){return D(!1)},onOk:function(){return D(!1)},style:{textAlign:"center"},children:(0,i.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,i.jsx)("p",{style:{fontSize:"12px"},children:"\u4E3A\u4FDD\u969C\u4EA4\u6613\u5B89\u5168\uFF0C\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u626B\u7801\uFF0C\u5728\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5B8C\u6210\u8EAB\u4EFD\u8BA4\u8BC1"}),(0,i.jsx)("canvas",{height:300,id:"canvas",width:300})]})})]})})};g.default=j},29811:function(O,g,t){"use strict";t.d(g,{x4:function(){return u},Z3:function(){return E},uO:function(){return F},v5:function(){return S},h8:function(){return K}});var _=t(90636),m=t(3182),c=t(99871),o=t(636);function u(r){return f.apply(this,arguments)}function f(){return f=(0,m.Z)((0,_.Z)().mark(function r(a){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/api/v1/user/login",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function E(r){return R.apply(this,arguments)}function R(){return R=(0,m.Z)((0,_.Z)().mark(function r(a){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/api/v1/user/sendCode",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),R.apply(this,arguments)}function L(r){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/v1/user/submitRole",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),M.apply(this,arguments)}function $(){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("api/v1/user/verifyInfo",{method:"POST"}));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}function k(){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("api/v1/user/info",{method:"GET"}));case 1:case"end":return n.stop()}},r)})),w.apply(this,arguments)}function G(r){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/v1/user/modifyInfo",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),B.apply(this,arguments)}function F(r){return U.apply(this,arguments)}function U(){return U=(0,m.Z)((0,_.Z)().mark(function r(a){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/api/v1/user/assignAdmin",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),U.apply(this,arguments)}function S(r){return b.apply(this,arguments)}function b(){return b=(0,m.Z)((0,_.Z)().mark(function r(a){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/api/v1/user/getAdmins?".concat((0,c.R)(a))));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function K(r){return y.apply(this,arguments)}function y(){return y=(0,m.Z)((0,_.Z)().mark(function r(a){return(0,_.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/api/v1/user/deleteUser",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function x(r){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/area?".concat(objectToUrlParams(a)),{method:"GET"}));case 1:case"end":return e.stop()}},r)})),I.apply(this,arguments)}function i(r){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/uploadFile",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),j.apply(this,arguments)}function H(r){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/uploadFile",{method:"DELETE",data:a}));case 1:case"end":return e.stop()}},r)})),T.apply(this,arguments)}function J(){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/user/getAddressList",{method:"GET"}));case 1:case"end":return n.stop()}},r)})),Z.apply(this,arguments)}function z(r){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/addAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),A.apply(this,arguments)}function N(r){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/modifyAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}function Y(r){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/deleteAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),h.apply(this,arguments)}function P(){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function d(){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function W(){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),l.apply(this,arguments)}function Q(){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),s.apply(this,arguments)}},99871:function(O,g,t){"use strict";t.d(g,{R:function(){return _},D:function(){return m}});function _(c){var o=Object.keys(c).map(function(u){return"".concat(u,"=").concat(c[u])});return o.join("&")}function m(c){var o=new RegExp("(^|&)"+c+"=([^&]*)(&|$)"),u=window.location.search.substr(1).match(o);return u!=null?decodeURIComponent(u[2]):null}},636:function(O,g,t){"use strict";var _=t(34792),m=t(48086),c=t(12666),o=c.Z.create({baseURL:"/",timeout:3e4,withCredentials:!1});o.interceptors.request.use(function(u){u&&u.headers&&(u.headers["Content-Type"]||(u.headers["Content-Type"]="application/json"));var f=localStorage.getItem("token");return(u==null?void 0:u.url)!=="/api/v1/user/login"&&(u.headers.Authorization="".concat(f)),u},function(u){return Promise.reject(u)}),o.interceptors.response.use(function(u){var f=u.data;console.log(Object.prototype.toString.call(u));var E=u.data,R=u.status,L=u.statusText;if(R!==200)return m.ZP.error(L),null;if(E.status===10010)return E;if(E.status!==200)throw m.ZP.error(u.msg),new Error(u.msg);return E.data},function(u){return console.log("err"+u),Promise.reject(u)}),g.Z=o},7120:function(O,g,t){O.exports=t.p+"static/logo.7d149fea.jpg"}}]);
