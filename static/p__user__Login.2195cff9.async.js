(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(R){R.exports={container:"container___1sYa-"}},19319:function(R,v,t){"use strict";t.r(v);var i=t(71194),c=t(50146),p=t(90636),l=t(11849),u=t(34792),f=t(48086),h=t(3182),O=t(2824),L=t(67294),M=t(73935),$=t(80521),C=t(2603),G=t(43504),w=t(5966),x=t(16434),B=t(63434),F=t(81910),U=t(92592),W=t(34687),Z=t.n(W),K=t(29811),y=t(975),o=t(85893),b=function(){var D=(0,F.tT)("@@initialState"),J=D.initialState,I=D.setInitialState,z=(0,L.useState)(!1),T=(0,O.Z)(z,2),N=T[0],A=T[1],Y=function(){var g=(0,h.Z)((0,p.Z)().mark(function P(m){var d,E,j,_;return(0,p.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(m.checkAgreement){s.next=3;break}return f.ZP.warn("\u8BF7\u9605\u8BFB\u5E76\u52FE\u9009\u7528\u6237\u534F\u8BAE"),s.abrupt("return");case 3:return s.next=5,(0,K.x4)({code:m.captcha,phone:m.mobile,source:2});case 5:if(d=s.sent,d.status!==10010){s.next=13;break}A(!0),E="https://open.weixin.qq.com/sns/getexpappinfo?appid=wx91e0c51b45f4b8f9&path=pages%2Fhome%2Fhome.html#wechat-redirect",j=document.getElementById("canvas"),U.toCanvas(j,E),s.next=33;break;case 13:return f.ZP.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("expiresTime",Date.now()+d.expiresAt),localStorage.setItem("token","".concat(d.tokenType," ").concat(d.accessToken)),localStorage.setItem("userRole",d.userRole),s.next=19,(0,M.flushSync)(function(){I(function(S){return(0,l.Z)((0,l.Z)({},S),{},{user:{userRole:d.userRole}})})});case 19:_="",s.t0=d.userRole,s.next=s.t0===y.i.Buyers?23:s.t0===y.i.Supplier?25:s.t0===y.i.Management?27:s.t0===y.i.Super_Management?29:31;break;case 23:return _="/point/buyers/application/record",s.abrupt("break",32);case 25:return _="/product/list",s.abrupt("break",32);case 27:return _="/point/company",s.abrupt("break",32);case 29:return _="/point/company",s.abrupt("break",32);case 31:return s.abrupt("break",32);case 32:F.m8.push(_);case 33:case"end":return s.stop()}},P)}));return function(m){return g.apply(this,arguments)}}();return(0,o.jsx)("div",{className:Z().container,children:(0,o.jsxs)("div",{children:[(0,o.jsxs)(G.U,{logo:(0,o.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u65B0\u53D1\u5730\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",onFinish:Y,children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(w.Z,{fieldProps:{size:"large",prefix:(0,o.jsx)($.Z,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,o.jsx)(x.Z,{fieldProps:{size:"large",prefix:(0,o.jsx)(C.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(P,m){return P?"".concat(m," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",phoneName:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var g=(0,h.Z)((0,p.Z)().mark(function P(m){var d,E;return(0,p.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,K.Z3)({phone:m});case 2:d=_.sent,E=d.status,E===200&&f.ZP.success("\u624B\u673A\u53F7 ".concat(m," \u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F!"));case 5:case"end":return _.stop()}},P)}));return function(P){return g.apply(this,arguments)}}()}),(0,o.jsx)(B.Z,{noStyle:!0,name:"checkAgreement"}),"\xA0\xA0\u9605\u8BFB\u5E76\u5DF2\u540C\u610F",(0,o.jsx)("a",{href:"https://xfd-t-1313159791.cos.ap-beijing.myqcloud.com/web/privacy.txt",target:"_blank",children:"\u300A\u65B0\u53D1\u5730\u96C6\u91C7\u4EA4\u6613\u6240\u7528\u6237\u534F\u8BAE\u548C\u9690\u79C1\u58F0\u660E\u300B"}),(0,o.jsx)("div",{style:{marginBottom:10}})]}),(0,o.jsx)(c.Z,{centered:!0,footer:null,title:"\u8BF7\u5148\u5B8C\u6210\u8EAB\u4EFD\u8BA4\u8BC1",open:N,onCancel:function(){return A(!1)},onOk:function(){return A(!1)},style:{textAlign:"center"},children:(0,o.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,o.jsx)("p",{style:{fontSize:"12px"},children:"\u4E3A\u4FDD\u969C\u4EA4\u6613\u5B89\u5168\uFF0C\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u626B\u7801\uFF0C\u5728\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u5B8C\u6210\u8EAB\u4EFD\u8BA4\u8BC1"}),(0,o.jsx)("canvas",{height:300,id:"canvas",width:300})]})})]})})};v.default=b},29811:function(R,v,t){"use strict";t.d(v,{x4:function(){return u},Z3:function(){return h},uO:function(){return F},v5:function(){return W},h8:function(){return K},cn:function(){return d},Nq:function(){return j},tM:function(){return S}});var i=t(90636),c=t(3182),p=t(99871),l=t(636);function u(r){return f.apply(this,arguments)}function f(){return f=(0,c.Z)((0,i.Z)().mark(function r(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.Z)("/api/v1/user/login",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function h(r){return O.apply(this,arguments)}function O(){return O=(0,c.Z)((0,i.Z)().mark(function r(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.Z)("/api/v1/user/sendCode",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),O.apply(this,arguments)}function L(r){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/v1/user/submitRole",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),M.apply(this,arguments)}function $(){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("api/v1/user/verifyInfo",{method:"POST"}));case 1:case"end":return n.stop()}},r)})),C.apply(this,arguments)}function G(){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("api/v1/user/info",{method:"GET"}));case 1:case"end":return n.stop()}},r)})),w.apply(this,arguments)}function x(r){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("api/v1/user/modifyInfo",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),B.apply(this,arguments)}function F(r){return U.apply(this,arguments)}function U(){return U=(0,c.Z)((0,i.Z)().mark(function r(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.Z)("/api/v1/user/assignAdmin",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),U.apply(this,arguments)}function W(r){return Z.apply(this,arguments)}function Z(){return Z=(0,c.Z)((0,i.Z)().mark(function r(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.Z)("/api/v1/user/getAdmins?".concat((0,p.R)(a))));case 1:case"end":return e.stop()}},r)})),Z.apply(this,arguments)}function K(r){return y.apply(this,arguments)}function y(){return y=(0,c.Z)((0,i.Z)().mark(function r(a){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.Z)("/api/v1/user/deleteUser",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function o(r){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/area?".concat(objectToUrlParams(a)),{method:"GET"}));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function H(r){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/uploadFile",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}function J(r){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/common/uploadFile",{method:"DELETE",data:a}));case 1:case"end":return e.stop()}},r)})),I.apply(this,arguments)}function z(){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/v1/user/getAddressList",{method:"GET"}));case 1:case"end":return n.stop()}},r)})),T.apply(this,arguments)}function N(r){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/addAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),A.apply(this,arguments)}function Y(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/modifyAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function P(r){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function r(a){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/v1/user/deleteAddress",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),m.apply(this,arguments)}function d(){return E.apply(this,arguments)}function E(){return E=(0,c.Z)((0,i.Z)().mark(function r(){return(0,i.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function j(){return _.apply(this,arguments)}function _(){return _=(0,c.Z)((0,i.Z)().mark(function r(){return(0,i.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function Q(){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),s.apply(this,arguments)}function S(){return k.apply(this,arguments)}function k(){return k=(0,c.Z)((0,i.Z)().mark(function r(){return(0,i.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)})),k.apply(this,arguments)}},99871:function(R,v,t){"use strict";t.d(v,{R:function(){return i},D:function(){return c}});function i(p){var l=Object.keys(p).map(function(u){return"".concat(u,"=").concat(p[u])});return l.join("&")}function c(p){var l=new RegExp("(^|&)"+p+"=([^&]*)(&|$)"),u=window.location.search.substr(1).match(l);return u!=null?decodeURIComponent(u[2]):null}},636:function(R,v,t){"use strict";var i=t(34792),c=t(48086),p=t(12666),l=p.Z.create({baseURL:"/",timeout:3e4,withCredentials:!1});l.interceptors.request.use(function(u){u&&u.headers&&(u.headers["Content-Type"]||(u.headers["Content-Type"]="application/json"));var f=localStorage.getItem("token");return(u==null?void 0:u.url)!=="/api/v1/user/login"&&(u.headers.Authorization="".concat(f)),u},function(u){return Promise.reject(u)}),l.interceptors.response.use(function(u){var f=u.data,h=u.data,O=u.status,L=u.statusText;return O!==200?(c.ZP.error(L),null):h.status===10010?h:h.status!==200?(c.ZP.error(h.msg),null):h.data},function(u){return console.log("err"+u),Promise.reject(u)}),v.Z=l}}]);
